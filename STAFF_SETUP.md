# Инструкция по настройке системы мастеров

## 1. Применить миграции

```bash
cd backend

# Создай миграцию для мастеров
alembic revision -m "create_staff_tables"

# Отредактируй созданный файл миграции, скопировав содержимое из:
# backend/alembic/versions/create_staff_tables_manual.py

# Примени миграции
alembic upgrade head
```

## 2. Проверить загрузку меню

**Проблема**: Меню пустое

**Решения**:

1. **Проверь, что данные загружены в БД**:
```bash
cd backend
python -m scripts.seed_data
```

2. **Проверь, что категории активны**:
   - Зайди в админ-панель → SPA-меню
   - Убедись, что категории имеют `is_active = True`

3. **Проверь API напрямую**:
```bash
curl http://127.0.0.1:9000/api/v1/menu/tree
```

4. **Проверь логи backend**:
   - Если есть ошибки сериализации, они будут в логах
   - Проверь, что все услуги имеют корректные данные

## 3. Добавить мастеров через админ-панель

1. Зайди в админ-панель → **Мастера**
2. Нажми **Новый мастер**
3. Заполни данные:
   - Имя, Фамилия
   - Телефон, Email (опционально)
   - Специализация
   - Описание (опционально)

4. После создания мастера:
   - Нажми **Подробнее** для выбранного мастера
   - Добавь расписание работы (день недели, время начала/окончания)
   - Привяжи мастера к услугам (в будущем)

## 4. Обновить систему бронирования

После создания мастеров нужно:
1. Обновить экран выбора мастера (`MasterSelectionScreen`) для загрузки мастеров из нашей БД
2. Обновить API `/booking/staff/{service_id}` для возврата мастеров из БД
3. Обновить API `/booking/time-slots/{service_id}` для использования расписания мастеров

## 5. Структура данных

- **staff** - таблица мастеров
- **staff_schedules** - расписание работы мастеров (день недели, время начала/окончания, перерыв)
- **staff_services** - привязка мастеров к услугам (какие услуги может выполнять мастер)

## 6. Следующие шаги

1. ✅ Создать мастеров через админ-панель
2. ⏳ Обновить экран бронирования для работы с мастерами из БД
3. ⏳ Интегрировать расписание мастеров в систему бронирования
4. ⏳ Добавить привязку мастеров к услугам

