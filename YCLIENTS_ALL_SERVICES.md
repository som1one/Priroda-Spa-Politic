# ‚úÖ –í—Å–µ —É—Å–ª—É–≥–∏ —á–µ—Ä–µ–∑ YClients

## üéØ –ò–∑–º–µ–Ω–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å **–≤—Å–µ —É—Å–ª—É–≥–∏ –±—Ä–æ–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ YClients**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –ª–∏ —É—Å–ª—É–≥–∞ –∫ YClients –∏–ª–∏ –Ω–µ—Ç.

---

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ë—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"

**–í—Å–µ–≥–¥–∞** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `YClientsBookingScreen` —Å –≤–∏–¥–∂–µ—Ç–æ–º YClients.

### 2. Backend —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL –≤–∏–¥–∂–µ—Ç–∞

#### –ï—Å–ª–∏ —É—Å–ª—É–≥–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ YClients (`yclients_service_id` –µ—Å—Ç—å):
```
https://yclients.com/timetable/{company_id}?services={yclients_service_id}
```

#### –ï—Å–ª–∏ —É—Å–ª—É–≥–∞ –ù–ï –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ YClients:
```
https://yclients.com/timetable/{company_id}
```
(–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏ –≤ YClients)

### 3. –í–Ω—É—Ç—Ä–∏ –≤–∏–¥–∂–µ—Ç–∞ YClients:

- ‚úÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã (–∫–∞–ª–µ–Ω–¥–∞—Ä—å YClients)
- ‚úÖ –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ (—Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
- ‚úÖ –í—ã–±–æ—Ä –º–∞—Å—Ç–µ—Ä–∞ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- ‚úÖ –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ (–µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞)
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ —Å —Ü–µ–Ω–∞–º–∏
- ‚úÖ –û–ø–ª–∞—Ç–∞ (—á–µ—Ä–µ–∑ YClients)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (–≤ YClients)

---

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### Frontend (`service_detail_screen.dart`):

**–ë—ã–ª–æ:**
```dart
if (service.yclientsServiceId != null) {
  // YClients
} else {
  // –ù–∞—à –∫–∞–ª–µ–Ω–¥–∞—Ä—å
}
```

**–°—Ç–∞–ª–æ:**
```dart
// –í—Å–µ —É—Å–ª—É–≥–∏ –±—Ä–æ–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ YClients
Navigator.pushNamed(RouteNames.yclientsBooking);
```

### Backend (`yclients.py`):

**–ë—ã–ª–æ:**
```python
if not service.yclients_service_id:
    raise HTTPException(400, "–£—Å–ª—É–≥–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ YClients")
```

**–°—Ç–∞–ª–æ:**
```python
# –ï—Å–ª–∏ —É—Å–ª—É–≥–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—â–∏–π –≤–∏–¥–∂–µ—Ç
# –í–∏–¥–∂–µ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏
```

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —É—Å–ª—É–≥–∏ –∏–º–µ—é—Ç `yclients_service_id`

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞–∂–¥—É—é —É—Å–ª—É–≥—É –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —É—Å–ª—É–≥–µ –≤ YClients
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω—É–∂–Ω—É—é —É—Å–ª—É–≥—É –≤ –≤–∏–¥–∂–µ—Ç–µ

**–ï—Å–ª–∏ —É—Å–ª—É–≥–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞:**
- –í–∏–¥–∂–µ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ —É—Å–ª—É–≥–∏ YClients
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç —É—Å–ª—É–≥—É –≤ –≤–∏–¥–∂–µ—Ç–µ

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å YClients

–í `backend/.env`:
```env
YCLIENTS_ENABLED=True
YCLIENTS_COMPANY_ID=–≤–∞—à_company_id
YCLIENTS_API_TOKEN=–≤–∞—à_api_token
YCLIENTS_USER_TOKEN=–≤–∞—à_user_token
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä—ã—Ç—å –ª—é–±—É—é —É—Å–ª—É–≥—É
2. –ù–∞–∂–∞—Ç—å "–ë—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
3. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∏–¥–∂–µ—Ç YClients
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–∏–¥–∂–µ—Ç–µ

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —É—Å–ª—É–≥
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–∑ YClients
- ‚úÖ –í—ã–±–æ—Ä –º–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã
- ‚úÖ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ YClients

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- ‚ö†Ô∏è –ï—Å–ª–∏ —É—Å–ª—É–≥–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ YClients, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –≤—Å–µ —É—Å–ª—É–≥–∏ YClients
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —É—Å–ª—É–≥–∏ –µ—Å—Ç—å –≤ YClients –∏–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞

```
–ú–µ–Ω—é ‚Üí –î–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥–∏ ‚Üí YClientsBookingScreen (WebView) ‚Üí [–í–°–Å –í –í–ò–î–ñ–ï–¢–ï YCLIENTS]
                                                              ‚Üì
                                                      –î–∞—Ç–∞, –≤—Ä–µ–º—è, –º–∞—Å—Ç–µ—Ä, —É—Å–ª—É–≥–∞, –æ–ø–ª–∞—Ç–∞
                                                              ‚Üì
                                                      –ó–∞–ø–∏—Å—å –≤ YClients
                                                              ‚Üì
                                                      –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

**–í—Å–µ —É—Å–ª—É–≥–∏ ‚Üí YClients –≤–∏–¥–∂–µ—Ç ‚Üí –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ

