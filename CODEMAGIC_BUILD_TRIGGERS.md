# ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Build Triggers –≤ Codemagic

## üìã –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Automatic build triggering:
- ‚ùå "Trigger on push" - –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ
- ‚ùå "Trigger on pull request update" - –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ
- ‚ùå "Trigger on tag creation" - –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ

### Watched branch patterns:
- ‚úÖ `*` (–≤—Å–µ –≤–µ—Ç–∫–∏)

### Watched tag patterns:
- ‚úÖ `*` (–≤—Å–µ —Ç–µ–≥–∏)

---

## ‚úÖ –ù—É–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –º–µ–Ω—è—Ç—å?

### –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã: –ù–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **–ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞** —Å–±–æ—Ä–æ–∫:
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–±–æ—Ä–∫–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ "Start new build"
- ‚úÖ –í—Å–µ –≤–µ—Ç–∫–∏ –∏ —Ç–µ–≥–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è (–µ—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (—Ç–µ–∫—É—â–∏–π)

**–û—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å**, –µ—Å–ª–∏:
- ‚úÖ –•–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–±–æ—Ä–∫–∏ –≤—Ä—É—á–Ω—É—é
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ

**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–±–æ—Ä–æ–∫
- –≠–∫–æ–Ω–æ–º–∏—è –º–∏–Ω—É—Ç —Å–±–æ—Ä–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—É—é —Å–±–æ—Ä–∫—É

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã**, –µ—Å–ª–∏:
- ‚úÖ –•–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–∏ –ø—É—à–µ
- ‚úÖ –ù—É–∂–Ω—ã —Å–±–æ—Ä–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PR

**–ß—Ç–æ –≤–∫–ª—é—á–∏—Ç—å:**

1. ‚úÖ **"Trigger on push"**
   - –°–±–æ—Ä–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—É—à–µ –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ç–∫–∏
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

2. ‚ö†Ô∏è **"Trigger on pull request update"** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –°–±–æ—Ä–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ PR
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –º–µ—Ä–¥–∂–µ–º

3. ‚ö†Ô∏è **"Trigger on tag creation"** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –°–±–æ—Ä–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ —Ä–µ–ª–∏–∑–æ–≤

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```
‚úÖ Trigger on push
‚ùå Trigger on pull request update (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚ùå Trigger on tag creation

Watched branch patterns: master, main, develop
```

### –î–ª—è production:

```
‚úÖ Trigger on push
‚úÖ Trigger on tag creation
‚ùå Trigger on pull request update

Watched branch patterns: master, main
Watched tag patterns: v* (–≤–µ—Ä—Å–∏–∏)
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–°–µ–π—á–∞—Å –≥–ª–∞–≤–Ω–æ–µ - –Ω–µ Build triggers, –∞:**

1. ‚úÖ **Code signing –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - Automatic
   - App Store Connect API key: "Priroda Spa"
   - Bundle identifier: `com.prirodaspa.app`

2. ‚úÖ **Build arguments –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
   - iOS: `--release`
   - Android: `--release`

3. ‚úÖ **Workflow —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - –ù–µ Shorebird (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
   - –û–±—ã—á–Ω—ã–π iOS workflow

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–¥–ª—è –Ω–∞—á–∞–ª–∞)

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Code signing
2. ‚úÖ –ò—Å–ø—Ä–∞–≤—å—Ç–µ Build arguments
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –≤—Ä—É—á–Ω—É—é
4. ‚ö†Ô∏è Build triggers –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∑–∂–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã

1. ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **"Trigger on push"**
2. ‚úÖ –û—Å—Ç–∞–≤—å—Ç–µ **Watched branch patterns:** `*` (–∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ: `master`, `main`)
3. ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
4. ‚úÖ –¢–µ–ø–µ—Ä—å —Å–±–æ—Ä–∫–∏ –±—É–¥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—É—à–µ

---

## ‚úÖ –ò—Ç–æ–≥

**–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:**
- ‚ùå **–ù–ï –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å** Build triggers
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å —Å–±–æ—Ä–∫–∏ –≤—Ä—É—á–Ω—É—é

**–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞:**
- ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **"Trigger on push"**
- ‚úÖ –≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–±–æ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—É—à–µ

**–ì–ª–∞–≤–Ω–æ–µ —Å–µ–π—á–∞—Å:**
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Code signing –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Build arguments –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Workflow —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è –Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–±–æ—Ä–∫–∏ –≤—Ä—É—á–Ω—É—é. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å "Trigger on push" –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–±–æ—Ä–æ–∫.

